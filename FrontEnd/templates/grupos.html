{% extends "base.html" %}
{% block tittle %}Grupos{% endblock %}

{% block content %}
<div class="container my-5" id="contenedor-grupos">

   <div class="align-items-center d-flex flex-column my-5">
      <h2 class="fw-bold text-center">Grupos disponibles</h2>
   </div>

   <div class="d-flex justify-content-center mb-5">
   <button type="button" class="btn btn-guardar justify-content-center" data-bs-toggle="modal" data-bs-target="#modalFiltroHorarios">
      Filtrar grupos por horarios
   </button>
   </div>
   
   <div class="modal fade" id="modalFiltroHorarios" tabindex="-1" aria-labelledby="modalFiltroHorariosLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content p-4">
         <div class="modal-header">
         <h5 class="modal-title" id="modalFiltroHorariosLabel">Filtrar grupos por horarios</h5>
         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
         </div>
         <div class="modal-body">
         <form id="form-filtro-horarios">
            <div class="table-responsive">
               <table class="table p-3 tabla-horarios text-center align-middle">
               <thead>
                  <tr>
                     <th><i class="fa-regular fa-clock"></i></th>
                     <th>Lu</th>
                     <th>Ma</th>
                     <th>Mié</th>
                     <th>Ju</th>
                     <th>Vi</th>
                     <th>Sá</th>
                     <th>Do</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <th>Mañana</th>
                     {% for dia in ['lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado', 'domingo'] %}
                     <td><input type="checkbox" name="{{ dia }}_mañana"></td>
                     {% endfor %}
                  </tr>
                  <tr>
                     <th>Tarde</th>
                     {% for dia in ['lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado', 'domingo'] %}
                     <td><input type="checkbox" name="{{ dia }}_tarde"></td>
                     {% endfor %}
                  </tr>
                  <tr>
                     <th>Noche</th>
                     {% for dia in ['lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado', 'domingo'] %}
                     <td><input type="checkbox" name="{{ dia }}_noche"></td>
                     {% endfor %}
                  </tr>
               </tbody>
               </table>
            </div>
            <div class="my-3 text-center">
               <button type="button" class="btn btn-guardar" onclick="filtrarGruposPorHorarios()">Filtrar</button>
            </div>
         </form>
         </div>
      </div>
   </div>
   </div>

   <div class="barra_desplazamiento_grupos">
      <div class="row my-5 me-2 d-flex justify-content-center mt-0 pt-0">
         {% for grupo in grupos %}
         <div class="col-12 col-sm-6 col-md-4 col-lg-3 pt-0">
            <div class="grupo-card card rounded-4 h-90 mb-4 mx-1 pt-0" data-horarios="{{ grupo.horarios|join(',') }}">
                  <div id="items_barra_desplazamiento_grupos" class="card-body d-flex flex-column pt-0">
                     <div id="contenedor_nombre_grupo_nombre_materia" class="p-3 w-100 text-left rounded-4">
                        <h5 class="card-title fw-bold">{{ grupo.nombre }}</h5>
                        <p class="card-text small text-white fw-light">{{ grupo.materia }}</p>
                     </div>
                     <div id="contenedor_boton_informacion_grupo" class="w-100 my-3 rounded-4 text-center d-flex justify-content-center align-items-center">
                        <a href="/grupo/{{ grupo.id }}" class="btn btn-primary rounded-pill px-4 fw-bold w-100">INFO</a>
                     </div>
                  </div>
            </div>
         </div>
         {% endfor %}
      </div>
   </div>
</div>
{% endblock %}